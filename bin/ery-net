#!/bin/bash

ssid=`nmcli -f SSID dev wifi | grep -v SSID | cut -f 2 -d "'" | sort -u | dmenu -i`
nmcli con up id "Auto $ssid" iface wlan0

if [ $? != 0 ]; then
    # horrible hack; not sure when Auto is required
    nmcli con up id "$ssid" iface wlan0
fi

# TODO: this will only connect to a network if it's already in your saved history.
